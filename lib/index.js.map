{"version":3,"file":"index.js","sources":["../src/overlay.ts","../src/react-navigation-overlay.tsx"],"sourcesContent":["import { ReactElement, RefObject } from \"react\";\n\nexport interface OverlayRefHandle {\n  show: (component: ReactElement, props?: any) => void;\n  close: () => void;\n}\n\n/** Constants */\nlet OverlayRef: OverlayRefHandle | null = null;\n\nexport const Overlay = {\n  register: (ref: RefObject<OverlayRefHandle>) => {\n    OverlayRef = ref.current;\n  },\n  show: (component: ReactElement, props: any) => {\n    OverlayRef?.show(component, props);\n  },\n  close: () => {\n    OverlayRef?.close();\n  },\n};\n","import React, {\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n  ReactElement,\n} from \"react\";\nimport { StyleProp, ViewStyle } from \"react-native\";\nimport { Overlay, OverlayRefHandle } from \"./overlay\";\nimport Modal, { ReactNativeModal } from \"react-native-modal\";\n\ntype AniamtionInType =\n  | \"bounce\"\n  | \"flash\"\n  | \"jello\"\n  | \"pulse\"\n  | \"rotate\"\n  | \"rubberBand\"\n  | \"shake\"\n  | \"swing\"\n  | \"tada\"\n  | \"wobble\"\n  | \"bounceIn\"\n  | \"bounceInDown\"\n  | \"bounceInUp\"\n  | \"bounceInLeft\"\n  | \"bounceInRight\"\n  | \"bounceOut\"\n  | \"bounceOutDown\"\n  | \"bounceOutUp\"\n  | \"bounceOutLeft\"\n  | \"bounceOutRight\"\n  | \"fadeIn\"\n  | \"fadeInDown\"\n  | \"fadeInDownBig\"\n  | \"fadeInUp\"\n  | \"fadeInUpBig\"\n  | \"fadeInLeft\"\n  | \"fadeInLeftBig\"\n  | \"fadeInRight\"\n  | \"fadeInRightBig\"\n  | \"fadeOut\"\n  | \"fadeOutDown\"\n  | \"fadeOutDownBig\"\n  | \"fadeOutUp\"\n  | \"fadeOutUpBig\"\n  | \"fadeOutLeft\"\n  | \"fadeOutLeftBig\"\n  | \"fadeOutRight\"\n  | \"fadeOutRightBig\"\n  | \"flipInX\"\n  | \"flipInY\"\n  | \"flipOutX\"\n  | \"flipOutY\"\n  | \"lightSpeedIn\"\n  | \"lightSpeedOut\"\n  | \"slideInDown\"\n  | \"slideInUp\"\n  | \"slideInLeft\"\n  | \"slideInRight\"\n  | \"slideOutDown\"\n  | \"slideOutUp\"\n  | \"slideOutLeft\"\n  | \"slideOutRight\"\n  | \"zoomIn\"\n  | \"zoomInDown\"\n  | \"zoomInUp\"\n  | \"zoomInLeft\"\n  | \"zoomInRight\"\n  | \"zoomOut\"\n  | \"zoomOutDown\"\n  | \"zoomOutUp\"\n  | \"zoomOutLeft\"\n  | \"zoomOutRight\";\ntype AnimationOutType =\n  | \"bounce\"\n  | \"flash\"\n  | \"jello\"\n  | \"pulse\"\n  | \"rotate\"\n  | \"rubberBand\"\n  | \"shake\"\n  | \"swing\"\n  | \"tada\"\n  | \"wobble\"\n  | \"bounceIn\"\n  | \"bounceInDown\"\n  | \"bounceInUp\"\n  | \"bounceInLeft\"\n  | \"bounceInRight\"\n  | \"bounceOut\"\n  | \"bounceOutDown\"\n  | \"bounceOutUp\"\n  | \"bounceOutLeft\"\n  | \"bounceOutRight\"\n  | \"fadeIn\"\n  | \"fadeInDown\"\n  | \"fadeInDownBig\"\n  | \"fadeInUp\"\n  | \"fadeInUpBig\"\n  | \"fadeInLeft\"\n  | \"fadeInLeftBig\"\n  | \"fadeInRight\"\n  | \"fadeInRightBig\"\n  | \"fadeOut\"\n  | \"fadeOutDown\"\n  | \"fadeOutDownBig\"\n  | \"fadeOutUp\"\n  | \"fadeOutUpBig\"\n  | \"fadeOutLeft\"\n  | \"fadeOutLeftBig\"\n  | \"fadeOutRight\"\n  | \"fadeOutRightBig\"\n  | \"flipInX\"\n  | \"flipInY\"\n  | \"flipOutX\"\n  | \"flipOutY\"\n  | \"lightSpeedIn\"\n  | \"lightSpeedOut\"\n  | \"slideInDown\"\n  | \"slideInUp\"\n  | \"slideInLeft\"\n  | \"slideInRight\"\n  | \"slideOutDown\"\n  | \"slideOutUp\"\n  | \"slideOutLeft\"\n  | \"slideOutRight\"\n  | \"zoomIn\"\n  | \"zoomInDown\"\n  | \"zoomInUp\"\n  | \"zoomInLeft\"\n  | \"zoomInRight\"\n  | \"zoomOut\"\n  | \"zoomOutDown\"\n  | \"zoomOutUp\"\n  | \"zoomOutLeft\"\n  | \"zoomOutRight\";\n\ninterface IReactNavigationOverlayProps extends ReactNativeModal {\n  style?: StyleProp<ViewStyle>;\n  animationIn: AniamtionInType;\n  animationOut: AnimationOutType;\n  onModalHide?: () => void;\n}\n\nexport const ReactNavigationOverlay = ({\n  style,\n  animationIn = \"slideInUp\",\n  animationOut = \"slideOutDown\",\n  onModalHide,\n  ...props\n}: IReactNavigationOverlayProps) => {\n  const thisRef = React.createRef<OverlayRefHandle>();\n  const ComponentJsxRef = useRef<ReactElement | null>(null);\n  const [componentPropsRef, setComponentPropsRef] = useState({});\n  const [isVisible, setIsVisible] = useState(false);\n  /** Effects */\n  useEffect(() => Overlay.register(thisRef), [thisRef]);\n  useImperativeHandle(thisRef, () => ({\n    show: (component: ReactElement, props = {}) => {\n      ComponentJsxRef.current = component;\n      setComponentPropsRef(props);\n      setIsVisible(true);\n    },\n    close: () => {\n      setIsVisible(false);\n    },\n  }));\n\n  if (ComponentJsxRef.current) {\n    return (\n      <Modal\n        isVisible={isVisible}\n        style={[{ flex: 1, margin: 0 }, style]}\n        animationIn={animationIn}\n        animationOut={animationOut}\n        onModalHide={() => {\n          ComponentJsxRef.current = null;\n          setComponentPropsRef({});\n          if (onModalHide) onModalHide();\n        }}\n        {...props}\n      >\n        {React.cloneElement(ComponentJsxRef.current, componentPropsRef)}\n      </Modal>\n    );\n  }\n\n  return null;\n};\n"],"names":["OverlayRef","Overlay","register","ref","current","show","component","props","_OverlayRef","close","_OverlayRef2","ReactNavigationOverlay","_ref","style","_ref$animationIn","animationIn","_ref$animationOut","animationOut","onModalHide","_objectWithoutPropertiesLoose","_excluded","thisRef","React","createRef","ComponentJsxRef","useRef","_useState","useState","componentPropsRef","setComponentPropsRef","_useState2","isVisible","setIsVisible","useEffect","useImperativeHandle","Modal","flex","margin","cloneElement"],"mappings":";;;;;;;;;;;;;;;;;;;AAQA,IAAIA,UAAU,GAA4B,IAAI;IAEjCC,OAAO,GAAG;EACrBC,QAAQ,EAAE,SAAAA,SAACC,GAAgC;IACzCH,UAAU,GAAGG,GAAG,CAACC,OAAO;GACzB;EACDC,IAAI,EAAE,SAAAA,KAACC,SAAuB,EAAEC,KAAU;;IACxC,CAAAC,WAAA,GAAAR,UAAU,cAAAQ,WAAA,uBAAVA,WAAA,CAAYH,IAAI,CAACC,SAAS,EAAEC,KAAK,CAAC;GACnC;EACDE,KAAK,EAAE,SAAAA;;IACL,CAAAC,YAAA,GAAAV,UAAU,cAAAU,YAAA,uBAAVA,YAAA,CAAYD,KAAK,EAAE;;;;;AClBvB,IAiJaE,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAAC,IAAA;MACjCC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAAC,gBAAA,GAAAF,IAAA,CACLG,WAAW;IAAXA,WAAW,GAAAD,gBAAA,cAAG,WAAW,GAAAA,gBAAA;IAAAE,iBAAA,GAAAJ,IAAA,CACzBK,YAAY;IAAZA,YAAY,GAAAD,iBAAA,cAAG,cAAc,GAAAA,iBAAA;IAC7BE,YAAW,GAAAN,IAAA,CAAXM,WAAW;IACRX,KAAK,GAAAY,6BAAA,CAAAP,IAAA,EAAAQ,SAAA;EAER,IAAMC,OAAO,GAAGC,cAAK,CAACC,SAAS,EAAoB;EACnD,IAAMC,eAAe,GAAGC,YAAM,CAAsB,IAAI,CAAC;EACzD,IAAAC,SAAA,GAAkDC,cAAQ,CAAC,EAAE,CAAC;IAAvDC,iBAAiB,GAAAF,SAAA;IAAEG,oBAAoB,GAAAH,SAAA;EAC9C,IAAAI,UAAA,GAAkCH,cAAQ,CAAC,KAAK,CAAC;IAA1CI,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAE9BG,eAAS,CAAC;IAAA,OAAMhC,OAAO,CAACC,QAAQ,CAACmB,OAAO,CAAC;KAAE,CAACA,OAAO,CAAC,CAAC;EACrDa,yBAAmB,CAACb,OAAO,EAAE;IAAA,OAAO;MAClChB,IAAI,EAAE,SAAAA,KAACC,SAAuB,EAAEC,KAAK;YAALA,KAAK;UAALA,KAAK,GAAG,EAAE;;QACxCiB,eAAe,CAACpB,OAAO,GAAGE,SAAS;QACnCuB,oBAAoB,CAACtB,KAAK,CAAC;QAC3ByB,YAAY,CAAC,IAAI,CAAC;OACnB;MACDvB,KAAK,EAAE,SAAAA;QACLuB,YAAY,CAAC,KAAK,CAAC;;KAEtB;GAAC,CAAC;EAEH,IAAIR,eAAe,CAACpB,OAAO,EAAE;IAC3B,OACEkB,6BAACa,KAAK;MACJJ,SAAS,EAAEA,SAAS;MACpBlB,KAAK,EAAE,CAAC;QAAEuB,IAAI,EAAE,CAAC;QAAEC,MAAM,EAAE;OAAG,EAAExB,KAAK,CAAC;MACtCE,WAAW,EAAEA,WAAW;MACxBE,YAAY,EAAEA,YAAY;MAC1BC,WAAW,EAAE,SAAAA;QACXM,eAAe,CAACpB,OAAO,GAAG,IAAI;QAC9ByB,oBAAoB,CAAC,EAAE,CAAC;QACxB,IAAIX,YAAW,EAAEA,YAAW,EAAE;;OAE5BX,KAAK,GAERe,cAAK,CAACgB,YAAY,CAACd,eAAe,CAACpB,OAAO,EAAEwB,iBAAiB,CAAC,CACzD;;EAIZ,OAAO,IAAI;AACb,CAAC;;;;;"}