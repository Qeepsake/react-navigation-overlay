{"version":3,"file":"index.js","sources":["../src/overlay.ts","../src/react-navigation-overlay.tsx"],"sourcesContent":["import { ReactElement, RefObject } from \"react\";\n\nexport interface OverlayRefHandle {\n  show: (component: ReactElement, props?: any) => void,\n  close: () => void,\n}\n\n/** Constants */\nlet OverlayRef: OverlayRefHandle | null = null;\n\nexport const Overlay = {\n    register: (ref: RefObject<OverlayRefHandle>) => {\n      OverlayRef = ref.current;\n    },\n    show: (component: ReactElement, props: any) => {\n      OverlayRef?.show(component, props);\n    },\n    close: () => {\n      OverlayRef?.close();\n    }\n};","import React, { useEffect, useImperativeHandle, useRef, useState, ReactElement } from \"react\";\nimport { StyleProp, ViewStyle } from \"react-native\";\nimport { Overlay, OverlayRefHandle } from \"./overlay\";\nimport Modal, { ReactNativeModal } from \"react-native-modal\";\n\ntype AniamtionInType = \"bounce\" | \"flash\" | \"jello\" | \"pulse\" | \"rotate\" | \"rubberBand\" | \"shake\" | \"swing\" | \"tada\" | \"wobble\" | \"bounceIn\" | \"bounceInDown\" | \"bounceInUp\" | \"bounceInLeft\" | \"bounceInRight\" | \"bounceOut\" | \"bounceOutDown\" | \"bounceOutUp\" | \"bounceOutLeft\" | \"bounceOutRight\" | \"fadeIn\" | \"fadeInDown\" | \"fadeInDownBig\" | \"fadeInUp\" | \"fadeInUpBig\" | \"fadeInLeft\" | \"fadeInLeftBig\" | \"fadeInRight\" | \"fadeInRightBig\" | \"fadeOut\" | \"fadeOutDown\" | \"fadeOutDownBig\" | \"fadeOutUp\" | \"fadeOutUpBig\" | \"fadeOutLeft\" | \"fadeOutLeftBig\" | \"fadeOutRight\" | \"fadeOutRightBig\" | \"flipInX\" | \"flipInY\" | \"flipOutX\" | \"flipOutY\" | \"lightSpeedIn\" | \"lightSpeedOut\" | \"slideInDown\" | \"slideInUp\" | \"slideInLeft\" | \"slideInRight\" | \"slideOutDown\" | \"slideOutUp\" | \"slideOutLeft\" | \"slideOutRight\" | \"zoomIn\" | \"zoomInDown\" | \"zoomInUp\" | \"zoomInLeft\" | \"zoomInRight\" | \"zoomOut\" | \"zoomOutDown\" | \"zoomOutUp\" | \"zoomOutLeft\" | \"zoomOutRight\";\ntype AnimationOutType =  \"bounce\" | \"flash\" | \"jello\" | \"pulse\" | \"rotate\" | \"rubberBand\" | \"shake\" | \"swing\" | \"tada\" | \"wobble\" | \"bounceIn\" | \"bounceInDown\" | \"bounceInUp\" | \"bounceInLeft\" | \"bounceInRight\" | \"bounceOut\" | \"bounceOutDown\" | \"bounceOutUp\" | \"bounceOutLeft\" | \"bounceOutRight\" | \"fadeIn\" | \"fadeInDown\" | \"fadeInDownBig\" | \"fadeInUp\" | \"fadeInUpBig\" | \"fadeInLeft\" | \"fadeInLeftBig\" | \"fadeInRight\" | \"fadeInRightBig\" | \"fadeOut\" | \"fadeOutDown\" | \"fadeOutDownBig\" | \"fadeOutUp\" | \"fadeOutUpBig\" | \"fadeOutLeft\" | \"fadeOutLeftBig\" | \"fadeOutRight\" | \"fadeOutRightBig\" | \"flipInX\" | \"flipInY\" | \"flipOutX\" | \"flipOutY\" | \"lightSpeedIn\" | \"lightSpeedOut\" | \"slideInDown\" | \"slideInUp\" | \"slideInLeft\" | \"slideInRight\" | \"slideOutDown\" | \"slideOutUp\" | \"slideOutLeft\" | \"slideOutRight\" | \"zoomIn\" | \"zoomInDown\" | \"zoomInUp\" | \"zoomInLeft\" | \"zoomInRight\" | \"zoomOut\" | \"zoomOutDown\" | \"zoomOutUp\" | \"zoomOutLeft\" | \"zoomOutRight\";\n\ninterface IReactNavigationOverlayProps extends ReactNativeModal {\n    style?: StyleProp<ViewStyle>,\n    animationIn: AniamtionInType,\n    animationOut: AnimationOutType,\n    onModalHide?: () => void,\n}\n\nexport const ReactNavigationOverlay = ({ style, animationIn=\"slideInUp\", animationOut=\"slideOutDown\", onModalHide, ...props } : IReactNavigationOverlayProps) => {\n    const thisRef = React.createRef<OverlayRefHandle>();\n    const ComponentJsxRef = useRef<ReactElement | null>(null);\n    const [componentPropsRef, setComponentPropsRef] = useState({});\n    const [isVisible, setIsVisible] = useState(false);\n    /** Effects */\n    useEffect(() => Overlay.register(thisRef), [thisRef]);\n    useImperativeHandle(thisRef, () => ({\n        show: (component: ReactElement, props = {}) => {\n            ComponentJsxRef.current = component;\n            setComponentPropsRef(props);\n            setIsVisible(true)\n        },\n        close: () => {\n            setIsVisible(false);\n        },\n    }));\n   \n\n    if(ComponentJsxRef.current) {\n        return (\n            <Modal\n                isVisible={isVisible}\n                style={[{ flex: 1, margin: 0 }, style]}\n                animationIn={animationIn}\n                animationOut={animationOut}\n                onModalHide={() => {\n                    ComponentJsxRef.current = null;\n                    setComponentPropsRef({});\n                    if(onModalHide) onModalHide();\n                }}\n                {...props}\n            >\n                {React.cloneElement(ComponentJsxRef.current, componentPropsRef)}\n            </Modal>\n        );\n    }\n\n    return null;\n};"],"names":["OverlayRef","Overlay","register","ref","current","show","component","props","_OverlayRef","close","_OverlayRef2","ReactNavigationOverlay","_ref","style","_ref$animationIn","animationIn","_ref$animationOut","animationOut","onModalHide","_objectWithoutPropertiesLoose","_excluded","thisRef","React","createRef","ComponentJsxRef","useRef","_useState","useState","componentPropsRef","setComponentPropsRef","_useState2","isVisible","setIsVisible","useEffect","useImperativeHandle","Modal","flex","margin","cloneElement"],"mappings":";;;;;;;;;;;;;;;;;;;AAQA,IAAIA,UAAU,GAA4B,IAAI;IAEjCC,OAAO,GAAG;EACnBC,QAAQ,EAAE,SAAAA,SAACC,GAAgC;IACzCH,UAAU,GAAGG,GAAG,CAACC,OAAO;GACzB;EACDC,IAAI,EAAE,SAAAA,KAACC,SAAuB,EAAEC,KAAU;;IACxC,CAAAC,WAAA,GAAAR,UAAU,cAAAQ,WAAA,uBAAVA,WAAA,CAAYH,IAAI,CAACC,SAAS,EAAEC,KAAK,CAAC;GACnC;EACDE,KAAK,EAAE,SAAAA;;IACL,CAAAC,YAAA,GAAAV,UAAU,cAAAU,YAAA,uBAAVA,YAAA,CAAYD,KAAK,EAAE;;;;;AClBzB,IAeaE,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAAC,IAAA;MAAMC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAAC,gBAAA,GAAAF,IAAA,CAAEG,WAAW;IAAXA,WAAW,GAAAD,gBAAA,cAAC,WAAW,GAAAA,gBAAA;IAAAE,iBAAA,GAAAJ,IAAA,CAAEK,YAAY;IAAZA,YAAY,GAAAD,iBAAA,cAAC,cAAc,GAAAA,iBAAA;IAAEE,YAAW,GAAAN,IAAA,CAAXM,WAAW;IAAKX,KAAK,GAAAY,6BAAA,CAAAP,IAAA,EAAAQ,SAAA;EACvH,IAAMC,OAAO,GAAGC,cAAK,CAACC,SAAS,EAAoB;EACnD,IAAMC,eAAe,GAAGC,YAAM,CAAsB,IAAI,CAAC;EACzD,IAAAC,SAAA,GAAkDC,cAAQ,CAAC,EAAE,CAAC;IAAvDC,iBAAiB,GAAAF,SAAA;IAAEG,oBAAoB,GAAAH,SAAA;EAC9C,IAAAI,UAAA,GAAkCH,cAAQ,CAAC,KAAK,CAAC;IAA1CI,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAE9BG,eAAS,CAAC;IAAA,OAAMhC,OAAO,CAACC,QAAQ,CAACmB,OAAO,CAAC;KAAE,CAACA,OAAO,CAAC,CAAC;EACrDa,yBAAmB,CAACb,OAAO,EAAE;IAAA,OAAO;MAChChB,IAAI,EAAE,SAAAA,KAACC,SAAuB,EAAEC,KAAK;YAALA,KAAK;UAALA,KAAK,GAAG,EAAE;;QACtCiB,eAAe,CAACpB,OAAO,GAAGE,SAAS;QACnCuB,oBAAoB,CAACtB,KAAK,CAAC;QAC3ByB,YAAY,CAAC,IAAI,CAAC;OACrB;MACDvB,KAAK,EAAE,SAAAA;QACHuB,YAAY,CAAC,KAAK,CAAC;;KAE1B;GAAC,CAAC;EAGH,IAAGR,eAAe,CAACpB,OAAO,EAAE;IACxB,OACIkB,6BAACa,KAAK;MACFJ,SAAS,EAAEA,SAAS;MACpBlB,KAAK,EAAE,CAAC;QAAEuB,IAAI,EAAE,CAAC;QAAEC,MAAM,EAAE;OAAG,EAAExB,KAAK,CAAC;MACtCE,WAAW,EAAEA,WAAW;MACxBE,YAAY,EAAEA,YAAY;MAC1BC,WAAW,EAAE,SAAAA;QACTM,eAAe,CAACpB,OAAO,GAAG,IAAI;QAC9ByB,oBAAoB,CAAC,EAAE,CAAC;QACxB,IAAGX,YAAW,EAAEA,YAAW,EAAE;;OAE7BX,KAAK,GAERe,cAAK,CAACgB,YAAY,CAACd,eAAe,CAACpB,OAAO,EAAEwB,iBAAiB,CAAC,CAC3D;;EAIhB,OAAO,IAAI;AACf,CAAC;;;;;"}